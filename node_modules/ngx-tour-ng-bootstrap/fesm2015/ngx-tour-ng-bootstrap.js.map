{"version":3,"file":"ngx-tour-ng-bootstrap.js","sources":["ng://ngx-tour-ng-bootstrap/lib/ng-bootstrap-tour.service.ts","ng://ngx-tour-ng-bootstrap/lib/tour-step-template.service.ts","ng://ngx-tour-ng-bootstrap/lib/tour-anchor.directive.ts","ng://ngx-tour-ng-bootstrap/lib/tour-step-template.component.ts","ng://ngx-tour-ng-bootstrap/lib/ng-bootstrap.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { TourService } from 'ngx-tour-core';\n\nimport { INgbStepOption } from './step-option.interface';\n\n@Injectable()\nexport class NgbTourService extends TourService<INgbStepOption> {}\n","import { Injectable, TemplateRef } from '@angular/core';\n\n@Injectable()\nexport class TourStepTemplateService {\n  public template: TemplateRef<{content: string}>;\n}\n","import { Directive, ElementRef, Host, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';\nimport { NgbPopover, Placement } from '@ng-bootstrap/ng-bootstrap';\nimport { TourAnchorDirective } from 'ngx-tour-core';\nimport withinviewport from 'withinviewport';\n\nimport { NgbTourService } from './ng-bootstrap-tour.service';\nimport { INgbStepOption } from './step-option.interface';\nimport { TourStepTemplateService } from './tour-step-template.service';\n\n\n@Directive({ selector: '[tourAnchor]' })\nexport class TourAnchorNgBootstrapPopoverDirective extends NgbPopover { }\n\n@Directive({\n  selector: '[tourAnchor]',\n})\nexport class TourAnchorNgBootstrapDirective implements OnInit, OnDestroy, TourAnchorDirective {\n  @Input() public tourAnchor: string;\n\n  @HostBinding('class.touranchor--is-active')\n  public isActive: boolean;\n\n  constructor(\n    private tourService: NgbTourService,\n    private tourStepTemplate: TourStepTemplateService,\n    private element: ElementRef,\n    @Host() private popoverDirective: TourAnchorNgBootstrapPopoverDirective,\n  ) {\n\n    this.popoverDirective.toggle = () => { };\n  }\n\n  public ngOnInit(): void {\n    this.tourService.register(this.tourAnchor, this);\n  }\n\n  public ngOnDestroy(): void {\n    this.tourService.unregister(this.tourAnchor);\n  }\n\n  public showTourStep(step: INgbStepOption): void {\n    this.isActive = true;\n    this.popoverDirective.ngbPopover = this.tourStepTemplate.template;\n    this.popoverDirective.popoverTitle = step.title;\n    this.popoverDirective.container =  'body';\n    this.popoverDirective.placement = <Placement>(step.placement || 'top')\n      .replace('before', 'left').replace('after', 'right')\n      .replace('below', 'bottom').replace('above', 'top');\n    step.prevBtnTitle = step.prevBtnTitle || 'Prev';\n    step.nextBtnTitle = step.nextBtnTitle || 'Next';\n    step.endBtnTitle = step.endBtnTitle || 'End';\n\n    this.popoverDirective.open({ step });\n    if (!step.preventScrolling) {\n      if (!withinviewport(this.element.nativeElement, { sides: 'bottom' })) {\n        (<HTMLElement>this.element.nativeElement).scrollIntoView(false);\n      } else if (!withinviewport(this.element.nativeElement, { sides: 'left top right' })) {\n        (<HTMLElement>this.element.nativeElement).scrollIntoView(true);\n      }\n    }\n  }\n\n  public hideTourStep(): void {\n    this.isActive = false;\n    this.popoverDirective.close();\n  }\n}\n","import { TourHotkeyListenerComponent, IStepOption } from 'ngx-tour-core';\nimport { TourStepTemplateService } from './tour-step-template.service';\nimport {\n  Component,\n  TemplateRef,\n  ViewChild,\n  AfterContentInit,\n  ViewEncapsulation,\n  Input,\n  ContentChild\n} from '@angular/core';\nimport { NgbTourService } from './ng-bootstrap-tour.service';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'tour-step-template',\n  template: `\n    <ng-template #tourStep let-step=\"step\">\n      <p class=\"tour-step-content\">{{ step?.content }}</p>\n      <div class=\"tour-step-navigation\">\n        <button\n          *ngIf=\"tourService.hasPrev(step)\"\n          class=\"btn btn-sm btn-default\"\n          (click)=\"tourService.prev()\"\n        >\n          Â« {{ step?.prevBtnTitle }}\n        </button>\n        <button\n          *ngIf=\"tourService.hasNext(step)\"\n          class=\"btn btn-sm btn-default\"\n          (click)=\"tourService.next()\"\n        >\n          {{ step?.nextBtnTitle }} Â»\n        </button>\n        <button class=\"btn btn-sm btn-default\" (click)=\"tourService.end()\">\n          {{ step?.endBtnTitle }}\n        </button>\n      </div>\n    </ng-template>\n  `\n})\nexport class TourStepTemplateComponent extends TourHotkeyListenerComponent\n  implements AfterContentInit {\n  @ViewChild('tourStep', { read: TemplateRef, static: true })\n  public defaultTourStepTemplate: TemplateRef<any>;\n\n  @Input()\n  public stepTemplate: TemplateRef<{ step: IStepOption }>;\n\n  @ContentChild(TemplateRef, { static: false })\n  public stepTemplateContent: TemplateRef<{ step: IStepOption }>;\n\n  constructor(\n    private tourStepTemplateService: TourStepTemplateService,\n    public tourService: NgbTourService\n  ) {\n    super(tourService);\n  }\n\n  public ngAfterContentInit(): void {\n    this.tourStepTemplateService.template =\n      this.stepTemplate ||\n      this.stepTemplateContent ||\n      this.defaultTourStepTemplate;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { NgbPopoverModule } from '@ng-bootstrap/ng-bootstrap';\nimport { TourModule } from 'ngx-tour-core';\n\nimport { NgbTourService } from './ng-bootstrap-tour.service';\nimport { TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective } from './tour-anchor.directive';\nimport { TourStepTemplateComponent } from './tour-step-template.component';\nimport { TourStepTemplateService } from './tour-step-template.service';\n\nexport { TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective, TourStepTemplateComponent, NgbTourService };\n\n@NgModule({\n  declarations: [TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective, TourStepTemplateComponent],\n  exports: [TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective, TourStepTemplateComponent],\n  imports: [CommonModule, NgbPopoverModule.forRoot()],\n})\nexport class TourNgBootstrapModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: TourNgBootstrapModule,\n      providers: [\n        TourStepTemplateService,\n        ...TourModule.forRoot().providers,\n        NgbTourService\n      ],\n    };\n  }\n}\n"],"names":[],"mappings":"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"}